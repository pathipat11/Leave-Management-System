{% extends "leave_app/base.html" %}
{% block title %}Manager - Pending Leaves{% endblock %}

{% block content %}
<h1 class="text-2xl font-semibold tracking-tight mb-2">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</h1>
<p class="mb-4 text-sm text-slate-500 dark:text-slate-400">
  ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Pending
</p>

<!-- üîπ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ -->
<table class="w-full text-sm rounded-2xl border border-slate-100 bg-white/80 shadow-sm overflow-hidden dark:border-slate-800 dark:bg-slate-900/70 ">
  <thead class="bg-slate-50 text-slate-700 dark:bg-slate-800/70 dark:text-slate-100">
    <tr>
      <th class="text-left py-2 px-3">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</th>
      <th class="text-left px-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
      <th class="text-left px-3">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</th>
      <th class="text-left px-3">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</th>
      <th class="text-left px-3">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
    </tr>
  </thead>
  <tbody>
    {% for leave in pending_leaves %}
    <tr class="border-t border-slate-100 dark:border-slate-800">
      <td class="py-2 px-3">
        {{ leave.employee.user.get_full_name|default:leave.employee.user.username }}
      </td>
      <td class="px-3">{{ leave.leave_type.name }}</td>
      <td class="px-3">
        {{ leave.start_date }} - {{ leave.end_date }}
        {% if leave.half_day %}
          <span class="ml-1 text-xs text-indigo-600 dark:text-indigo-400">(‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ß‡∏±‡∏ô)</span>
        {% endif %}
      </td>
      <td class="px-3 truncate max-w-xs">
        {{ leave.reason|truncatechars:50 }}
      </td>
      <td class="px-3">
        <a href="{% url 'leave_app:manager_leave_detail' leave.pk %}"
          class="text-xs font-medium text-blue-600 hover:text-blue-500">
          ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
        </a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5" class="py-3 text-center text-slate-500 dark:text-slate-400">
        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!-- üîπ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á -->
<h2 class="mt-8 mb-2 text-xl font-semibold tracking-tight">
  ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤
</h2>
<p class="mb-4 text-sm text-slate-500 dark:text-slate-400">
  ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ / ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò / ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ‡πÅ‡∏•‡πâ‡∏ß
</p>

<table class="w-full text-sm rounded-2xl border border-slate-100 bg-white/80 shadow-sm overflow-hidden dark:border-slate-800 dark:bg-slate-900/70 ">
  <thead class="bg-slate-50 text-slate-700 dark:bg-slate-800/70 dark:text-slate-100">
    <tr>
      <th class="text-left py-2 px-3">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</th>
      <th class="text-left px-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
      <th class="text-left px-3">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</th>
      <th class="text-left px-3">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
      <th class="text-left px-3">‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</th>
      <th class="text-left px-3">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
      <th class="text-left px-3">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤</th>
    </tr>
  </thead>
  <tbody>
    {% for leave in history_leaves %}
    <tr class="border-t border-slate-100 dark:border-slate-800">
      <td class="py-2 px-3">
        {{ leave.employee.user.get_full_name|default:leave.employee.user.username }}
      </td>
      <td class="px-3">{{ leave.leave_type.name }}</td>
      <td class="px-3">
        {{ leave.start_date }} - {{ leave.end_date }}
        {% if leave.half_day %}
          <span class="ml-1 text-xs text-indigo-600 dark:text-indigo-400">(‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ß‡∏±‡∏ô)</span>
        {% endif %}
      </td>
      <td class="px-3">
        <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium
          {% if leave.status == 'APPROVED' %}
            bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200
          {% elif leave.status == 'REJECTED' %}
            bg-rose-100 text-rose-800 dark:bg-rose-900/40 dark:text-rose-200
          {% elif leave.status == 'CANCELLED' %}
            bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-100
          {% endif %}
        ">
          {{ leave.get_status_display }}
        </span>
      </td>
      <td class="px-3">
        {% if leave.approver %}
          {{ leave.approver.get_full_name|default:leave.approver.username }}
        {% else %}
          -
        {% endif %}
      </td>
      <td class="px-3">
        {{ leave.updated_at|date:"Y-m-d H:i" }}
      </td>
      <td class="px-3 truncate max-w-xs">
        {{ leave.approve_comment|default:"-"|truncatechars:50 }}
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7" class="py-3 text-center text-slate-500 dark:text-slate-400">
        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
